<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Page Title -->
    <title>Pernikahan Anisa & Tyan</title>
    <!-- Favicon -->
    <link rel="icon" href="img/logo.png">
    <!-- Animate -->
    <!-- <link rel="stylesheet" href="css/animate.min.css"> -->
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <!-- Font Awesome -->
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css"> -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.13.0/css/all.css">
    <!-- Owl Carousel -->
    <link rel="stylesheet" href="css/owl.carousel.min.css">
    <link rel="stylesheet" href="css/owl.theme.default.min.css">
    <!-- Cube Portfolio -->
    <link rel="stylesheet" href="css/cubeportfolio.min.css">
    <!-- Fancy Box -->
    <link rel="stylesheet" href="css/jquery.fancybox.min.css">
    <!-- Style Sheet -->
    <link rel="stylesheet" href="css/style.css">

    <!-- AOS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css">

    <!-- Leaflat maps -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
        integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
        crossorigin="" />

    <!-- Flip Countdown -->
    <link rel="stylesheet" href="css/flip.min.css">
</head>

<body data-spy="scroll" data-target=".navbar" data-offset="90">
    <audio id="background-sound" src="music.mp3" autoplay loop="loop"></audio>
    <!--Loader Start-->
    <div class="loader">
        <div class="loader-inner">
            <img src="img/SVG/logo.svg" alt="logo">
        </div>
    </div>
    <!--Loader End-->
    <!--Header Start-->
    <header>
        <!--Navigation-->
        <nav class="navbar navbar-top-default center-logo navbar-expand-lg navbar-simple navbar-dark nav-box-round">
            <div class="container">
                <a href="javascript:void(0)" title="Logo" class="logo scroll">
                    <!--Logo Dark-->
                    <img src="img/logo.png" alt="logo" class="logo-dark default">
                </a>

                <!--Nav Links-->
                <!-- <div class="collapse navbar-collapse" id="wexim">
                    <div class="navbar-nav w-100 alt-font">
                            <a class="nav-link scroll" href="#home">Pembukaan</a>
                            <a class="nav-link scroll" href="#about">Tentang Kami</a>
                            <a class="nav-link scroll" href="#portfolio">Acara</a>
                            <a class="nav-link scroll" href="#price">Tanggal</a>
                            <a class="nav-link scroll" href="#price">Lokasi</a>
                            <a class="nav-link scroll" href="#price">Pesan</a>
                    </div>
                </div> -->

                <!--Side Menu Button-->
                <a href="javascript:void(0)" class="d-inline-block sidemenu_btn" id="sidemenu_toggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </a>

            </div>
        </nav>

        <!--Side Nav-->
        <div class="side-menu">
            <div class="inner-wrapper">
                <span class="btn-close" id="btn_sideNavClose"><i></i><i></i></span>
                <nav class="side-nav w-100">
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a class="nav-link scroll" href="#home">Halaman Depan</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link scroll" href="#main">Acara</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link scroll" href="#countdown">Waktu</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link scroll" href="#himbauan">Himbauan</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link scroll" href="#wishes">Pesan</a>
                        </li>
                    </ul>
                </nav>

                <div class="side-footer text-white w-100">
                    <p class="text-white">&copy; 2021 - Pernikahan Anisa & Tyan</p>
                </div>
            </div>
        </div>
        <a id="close_side_menu" href="javascript:void(0);"></a>
        <!-- End side menu -->

    </header>
    <!--Header end-->

    <section id="home" class="intro_container">
        <div class="inner-text d-flex justify-content-center align-items-center flex-column">
            <!-- <img class="walimatul animate fadeInUp" src="img/SVG/walimatul-ursy.svg" alt=""> -->
            <h1 class="font-primary font-dark-brown py-2 animate fadeInUp">Undangan</h1>
            <h1 class="font-primary font-big py-2 animate fadeInUp">anisa<span class="font-small"> & </span>tyan</h1>
            <h5 class="py-3 font-dark-brown animate fadeInUp">Sabtu, 29 Mei 2021</h5>
            <div class="break"></div>
            <h5 id="receipt-head" class="py-3 font-dark-brown animate fadeInUp">Kepada</h5>
            <div class="d-flex align-items-center flex-column">
                <a id="receipt" class="btn btn-main btn-rounded btn-large animate fadeInUp">Saudara -</a>
                <a href="#main" onclick="playSound()" class="scroll btn btn-main-alt btn-rounded btn-large animate fadeInUp mobile-open mt-4">Buka Undangan</a>
                <a href="#main" class="scroll-down scroll font-dark-brown web-open">Buka Undangan <i
                        class="fas fa-chevron-down font-dark-brown"></i></a>
            </div>
        </div>
    </section>


    <!--Features Start-->
    <section id="main" class="bg-head">
        <div class="container">
            <!--Heading-->
            <div class="row wow fadeIn mb-2">
                <div class="col-md-12">
                    <div class="title d-block text-center" data-aos="zoom-in">
                        <!-- <img src="img/SVG/dove.svg" width="96px" alt=""> -->
                        <h2 class="font-dark-brown mb-3">بِسْمِ اللَّهِ الرَّحْمَنِ الرَّحِيم</h2>
                        <p class="py-4">“Allah menjadikan bagi kamu isteri-isteri dari jenis kamu sendiri dan menjadikan
                            bagimu dari isteri-isteri kamu itu, anak-anak dan cucu-cucu, dan memberimu rezeki dari yang
                            baik-baik.</p>
                        <h6 class="mb-3">(QS An-Nahl : 72)</h6>
                    </div>
                </div>
            </div>

            <div class="row wow fadeIn">
                <div class="col-md-12">
                    <div class="title d-block text-center" data-aos="zoom-in">
                        <p class="text-small ">Dengan memohon rahmat dan ridha Allah SWT, <br> Kami bermaksud
                            menyelenggarakan pernikahan putra-putri kami</p>
                    </div>
                </div>
            </div>

            <!--Features-->
            <div class="row">
                <div class="col-md-5 wow fadeInLeft" data-aos="fade-right">
                    <div class="feature-box text-center">
                        <h1 class="font-primary py-2 font-yellow shadow-dark">Anisa Nur Hetifah, S.K.M</h1>
                        <h6 class="my-2">Putri dari</h6>
                        <p>Bapak Samija & Ibu Samsilah, S.Pd</p>
                    </div>
                </div>
                <div class="col-md-2 wow" data-aos="zoom-in">
                    <h1 class="font-primary font-big py-4 text-center">&</h1>
                </div>
                <div class="col-md-5 wow fadeInRight" data-aos="fade-left">
                    <div class="feature-box text-center">
                        <h1 class="font-primary py-2 font-yellow shadow-dark">Aprilika Tyantaka, S.K.M</h1>
                        <h6 class="my-2">Putra dari</h6>
                        <p>Bapak Trie Suyono & Ibu Wastinah</p>
                    </div>
                </div>
            </div>

            <div class="row wow fadeIn">
                <div class="col-md-12">
                    <div class="title d-block text-center">
                        <div data-aos="zoom-in">
                            <p class="text-small py-4">Yang InsyaAllah akan dilaksanakan pada</p>
                            <img class="py-4" src="img/SVG/flower.svg" width="200px" alt="">
                            <h5 class="py-2">Akad Nikah</h5>
                            <span class="text-small pt-1"><b>Sabtu, 29 Mei 2021</b></p>
                            <span class="text-small pt-1"><b>Sesi I Pukul 11.00-12.00 WIB</b> </span> <br>
                            <span class="text-small pt-1"><b>Sesi II Pukul 12.00-13.00 WIB</b> </span><br>
                            <span class="text-small pt-1"><b>Sesi III Pukul 13.00-14.00 WIB</b></span><br>
                            
                            <span class="text-small pt-1 pb-4 mb-4"><b>Bertempat di Kebitan RT 03 RW 20, Sendangarum,
                                    Minggir, Sleman, Yogyakarta</b></span>
                        </div>

                        <div class="location-map mt-4" id="location-map" data-aos="zoom-in"></div>

                        <div class="text-center">
                            <a class="btn btn-main btn-rounded btn-large mt-4" data-toggle="modal" data-target="#modelId"><i class="fas fa-qrcode"></i> QR Code </a>
                            <a href="https://maps.app.goo.gl/P4tUnyJkyhrXt1YaA" target="_blank" class="btn btn-main btn-rounded btn-large mt-4"><i class="fas fa-map"></i> Buka di Maps </a>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </section>
    <!--Features End-->

    <!--Parallax Start-->
    <section class="parallax bg-img10" id="countdown">
        <div class="bg-overlay bg-black opacity-5"></div>
        <div class="container">
            <div class="row">
                <div class="col-md-12 col-sm-6">
                    <div class="text-center">
                       <h1 class="text-white py-4">Save the date</h1>
                    </div>
                    <div class="tick mt-4" data-did-init="handleTickInit">
                        <div data-repeat="true" data-layout="horizontal fit"
                            data-transform="preset(d, h, m, s) -> delay">
                            <div class="tick-group">
                                <div data-key="value" data-repeat="true" data-transform="pad(00) -> split -> delay">
                                    <span data-view="flip"></span>
                                </div>
                                <span data-key="label" data-view="text" class="tick-label"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!--Parallax End-->

    <!--Team Start-->
    <section id="himbauan">
        <div class="container">
            <!--Heading-->
            <div class="row wow fadeIn">
                <div class="col-md-12 text-center">
                    <div class="title d-inline-block">
                        <h2 data-aos="zoom-in" class="font-dark-brown mb-3">Dear Guest</h2>
                        <p data-aos="zoom-in">Tanpa Mengurangi rasa hormat, untuk menjalankan sunnah Rasul dan syariat Islam, serta dikarenakan situasi Pandemi, kepada seluruh tamu undangan kami menghimbau hal berikut:</p>
                    </div>
                </div>
            </div>

            <!--Team-->
            <div class="row">
                <div class="col-sm-12 text-center">
                    <div class="row">
                        <div class="col-lg-1 text-center"></div>
                        <div class="col-sm-6 col-lg-2 text-center">
                            <img data-aos="fade-up" class="my-2 protocol-item" src="img/SVG/item_1.svg" alt="image">
                        </div>
                        <div class="col-sm-6 col-lg-2 text-center">
                            <img data-aos="fade-up" class="my-2 protocol-item" src="img/SVG/item_2.svg" alt="image">
                        </div>
                        <div class="col-sm-6 col-lg-2 text-center">
                            <img data-aos="fade-up" class="my-2 protocol-item" src="img/SVG/item_3.svg" alt="image">
                        </div>
                        <div class="col-sm-6 col-lg-2 text-center">
                            <img data-aos="fade-up" class="my-2 protocol-item" src="img/SVG/item_4.svg" alt="image">
                        </div>
                        <div class="col-sm-6 col-lg-2 text-center">
                            <img data-aos="fade-up" class="my-2 protocol-item" src="img/SVG/item_5.svg" alt="image">
                        </div>
                        <div class="col-lg-1 text-center"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!--Team Start-->
    <img src="img/SVG/break.svg" alt="">
    <section class="px-2" id="message-display">
        <div class="row">
            <div class="col-sm-12">
                <h2 data-aos="zoom-in" class="font-dark-brown pb-4 text-center">Pesan Pesan</h2>
                <div id="team-three-slider" class="owl-carousel owl-theme px-4">
                    
                </div>
            </div>
        </div>
    </section>
    <!--Contact Start-->
    <section id="wishes" >
        <div class="container">
            <img src="" alt="">
            <!--Heading-->
            <div class="row">
                <div class="col-md-12 text-center">
                    <div class="title d-inline-block">
                        <img class="py-4" src="img/SVG/flower.svg" alt="" width="420px">
                        <h6 class="mb-3 font-dark-brown">Berikan Selamat Kepada Pengantin</h6>
                        <h2>Send your wish</h2>
                    </div>
                </div>
            </div>

            <!--contact us-->
            <div class="contact-form">
                <div class="row">
                    <div class="col-md-12 col-sm-12">
                        <div class="form-group">
                            <input class="form-control" type="text" placeholder="Nama Anda" required=""
                                id="username">
                        </div>
                    </div>
                    <div class="col-md-12 col-sm-12">
                        <div class="form-group">
                            <textarea class="form-control" placeholder="Pesan" id="message"></textarea>
                        </div>
                    </div>
                    <div class="col-sm-12">
                        <button class="btn btn-main btn-rounded btn-large mt-4" id="submit_btn" onclick="sendMessage()"><i
                                class="fa fa-spinner fa-spin mr-2 d-none" aria-hidden="true"></i> <span>Kirim Pesan</span></button>
                    </div>
                </div>
            </div>

        </div>
    </section>
    <!--Contact End-->

    <!--Footer Start-->
    <section class="bg-light text-center footer-small">
        <div class="container">
            <div class="row">
                <div class="col-md-12 ">
                    Create your own personal wedding invitation <br>
                    <a class="font-dark-brown" href="mailto:rifkyariy@gmail.com">rifkyariy@gmail.com</a>
                </div>
            </div>
        </div>
    </section>
    <!--Footer End-->

    <!--Scroll Top-->
    <a class="scroll-top-arrow" href="javascript:void(0);"><i class="fa fa-angle-up"></i></a>
    <!--Scroll Top End-->

    <!-- QR Modal -->
    <div class="modal fade qr-modal" id="modelId" tabindex="-1" role="dialog" aria-labelledby="modelTitleId" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content qr-container">
                <img src="img/SVG/qr-code.svg" width="400px" alt="">
            </div>
        </div>
    </div>


    <!-- Optional JavaScript -->
    <script src="js/jquery-3.3.1.min.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.appear.js"></script>
    <!-- isotop gallery -->
    <script src="js/isotope.pkgd.min.js"></script>
    <!-- cube portfolio gallery -->
    <script src="js/jquery.cubeportfolio.min.js"></script>
    <!-- owl carousel slider -->
    <script src="js/owl.carousel.min.js"></script>
    <!-- text rotate -->
    <script src="js/morphext.min.js"></script>
    <!-- particles -->
    <script src="js/particles.min.js"></script>
    <!-- parallax Background -->
    <script src="js/parallaxie.min.js"></script>
    <!-- fancybox popup -->
    <script src="js/jquery.fancybox.min.js"></script>
    <!-- fancybox popup -->
    <script src="js/wow.js"></script>
    <!-- font awesome -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/js/fontawesome.min.js"></script>
    <!-- custom script -->
    <script src="js/script.js"></script>

    <!-- AOS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>

    <!-- Leaflat maps -->
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
        integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
        crossorigin=""></script>

    <script>
        function playSound() {
            var audio = document.getElementById("background-sound");
            audio.play();
        }
        
        function handleTickInit(tick) {
            var locale = {
                YEAR_PLURAL: 'Tahun',
                YEAR_SINGULAR: 'Tahun',
                MONTH_PLURAL: 'Bulan',
                MONTH_SINGULAR: 'Bulan',
                WEEK_PLURAL: 'Minggu',
                WEEK_SINGULAR: 'Minggu',
                DAY_PLURAL: 'Hari',
                DAY_SINGULAR: 'Hari',
                HOUR_PLURAL: 'Jam',
                HOUR_SINGULAR: 'Jam',
                MINUTE_PLURAL: 'Menit',
                MINUTE_SINGULAR: 'Menit',
                SECOND_PLURAL: 'Detik',
                SECOND_SINGULAR: 'Detik',
                MILLISECOND_PLURAL: 'Milidetik',
                MILLISECOND_SINGULAR: 'Milidetik'
            };
            for (var key in locale) {
                if (!locale.hasOwnProperty(key)) { continue; }
                tick.setConstant(key, locale[key]);
            }

            Tick.count.down('2021-05-29T00:00:00+07:00').onupdate = function(value) {
                tick.value = value;
            };
        }

        // Map Configure
        const val = {
            location: [-7.743771328189277, 110.24838141128271],
            id: 2
        }

        var mymap = L.map('location-map', { 
            zoomControl: false 
        }).setView(val.location, 13);
        L.tileLayer('https://{s}.tile.osm.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://osm.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(mymap);
        mymap.touchZoom.disable();
        mymap.doubleClickZoom.disable();
        mymap.scrollWheelZoom.disable();
        mymap.boxZoom.disable();
        mymap.keyboard.disable();
        $(".leaflet-control-zoom").css("visibility", "hidden");

        //Define marker
        const marker = L.marker(val.location).addTo(mymap);

        // Add Receipt Name
        let params = new URLSearchParams(location.search);
        let receipt =  params.get('to');

        if(receipt){
            $('#receipt').html(`Saudara/i ${receipt}`);
            $('#username').val(receipt);
        }else{
            $('#receipt-head').remove();
            $('#receipt').remove();
        }
        
        // Get data Message
        const url = "https://jsonblob.com/api/jsonBlob/570bf47e-ad1d-11eb-8e44-f703fb4da7eb";

        function getMessage() {
            $.get( url, function( response ) {
                if(response.array.length > 0){
                    response.array.forEach(element => {
                        $('#team-three-slider').append(`
                            <div class="message-card mx-4">
                                <div class="d-flex flex-column px-4 justify-content-between">
                                    <p>${element.message}</p>
                                    <span class="">${element.sender}</span>
                                </div>
                                <img src="https://ui-avatars.com/api/?name=${element.sender}&background=CD9D81&color=fff" alt="image">
                            </div>
                        `)
                    });

                    $("#team-three-slider").owlCarousel({
                        items: 4,
                        autoplay:true,
                        loop:true,
                        dots: false,
                        nav: false,
                        responsive: {
                            991: {
                                items: 4,
                            },
                            767: {
                                items: 2,
                            },
                            320: {
                                items: 1,
                            },
                        }
                    });
                }else{
                    $("#message-display").hide();
                }
            });
        }

        // Send Message
        async function sendMessage() {
            const sender = $("#username").val();
            const message = $("#message").val();

            let data = {
                "array": []
            };
            let id = 0;
            await $.get( url, function( response ) {
                console.log(response.array.length);
                if(response.array.length > 0){
                    id = response.array[response.array.length - 1].id + 1;
                    data = response;
                }else{
                    id = 1;
                }
            });

            let params = {
                "id": id,
                "sender": sender,
                "message": message
            }

            data.array.push(params);

            console.log(JSON.stringify(data));

            await $.ajax({
                url: url,
                type: 'PUT',
                contentType: 'application/json',
                Accept: 'application/json',
                data: `${JSON.stringify(data)}`,
                success: function(response) {
                    location.reload();
                }
            });
        }

        $(document).ready(function () {
            AOS.init();
            $('.tick-credits').remove();
            getMessage();
        });
    </script>


    <!-- Flip Countdown -->
    <script src="js/flip.min.js"></script>
</body>

</html>